[{"/Users/gabriele/personalProjects/estratti_OSM_Italia/webapp/src/index.js":"1","/Users/gabriele/personalProjects/estratti_OSM_Italia/webapp/src/components/Italy.js":"2","/Users/gabriele/personalProjects/estratti_OSM_Italia/webapp/src/App.js":"3","/Users/gabriele/personalProjects/estratti_OSM_Italia/webapp/src/components/SideMenu/style.js":"4","/Users/gabriele/personalProjects/estratti_OSM_Italia/webapp/src/components/SideMenu/SideMenu.js":"5","/Users/gabriele/personalProjects/estratti_OSM_Italia/webapp/src/components/Breadcrumb.js":"6","/Users/gabriele/personalProjects/estratti_OSM_Italia/webapp/src/components/SideMenu/filter.js":"7"},{"size":219,"mtime":1608811074630,"results":"8","hashOfConfig":"9"},{"size":3798,"mtime":1609363015106,"results":"10","hashOfConfig":"9"},{"size":2735,"mtime":1609695458746,"results":"11","hashOfConfig":"9"},{"size":1660,"mtime":1609690428879,"results":"12","hashOfConfig":"9"},{"size":1378,"mtime":1609694610816,"results":"13","hashOfConfig":"9"},{"size":725,"mtime":1609690677240,"results":"14","hashOfConfig":"9"},{"size":1648,"mtime":1609692271277,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1g5m5qh",{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"20"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/gabriele/personalProjects/estratti_OSM_Italia/webapp/src/index.js",[],"/Users/gabriele/personalProjects/estratti_OSM_Italia/webapp/src/components/Italy.js",["31"],"import { useEffect, useRef } from \"react\";\nimport { GeoJSON, useMap } from \"react-leaflet\";\nimport * as topojson from \"topojson-client\";\n\nconst Italy = ({\n  provinces,\n  selectedFeature,\n  setSelectedFeature,\n  setCurrentGeoJSON,\n  currentGeoJSON,\n  setFeatureIndex,\n}) => {\n  const geoJSONref = useRef();\n  const map = useMap();\n\n  useEffect(() => {\n    if (!geoJSONref.current) {\n      return;\n    }\n    map.fitBounds(geoJSONref.current.getBounds());\n  }, [currentGeoJSON, geoJSONref.current]);\n\n  const getProvincesFromRegionIstatCode = (istatCode) => {\n    const filteredProvinces = provinces.features.filter(\n      ({ properties }) => properties.reg_istat_code === istatCode\n    );\n\n    return {\n      features: filteredProvinces,\n      type: \"FeatureCollection\",\n    };\n  };\n\n  const getMunicipalitiesForProvinceIstatCode = async (provinceIstatCode) => {\n    const fileName = `estratti_OSM_Italia/static/boundaries/limits_P_${provinceIstatCode}_municipalities.topo.json`;\n    const fileFetched = await fetch(fileName);\n    const municipalities = await fileFetched.json();\n    return topojson.feature(municipalities, \"municipalities\");\n  };\n\n  return (\n    <GeoJSON\n      ref={geoJSONref}\n      eventHandlers={{\n        click: async (e) => {\n          const properties = e.layer.feature.properties;\n          console.log(properties);\n          switch (true) {\n            case !!properties.com_catasto_code:\n              setSelectedFeature({\n                ...selectedFeature,\n                municipality: {\n                  ...selectedFeature.municipality,\n                  name: properties.name,\n                  feature: e.layer.feature,\n                },\n              });\n              setCurrentGeoJSON(e.layer.feature);\n              setFeatureIndex(4);\n              break;\n            case !!properties.prov_istat_code_num:\n              const provIstatCode = properties.prov_istat_code_num;\n              const municipalitiesForIstatCode = await getMunicipalitiesForProvinceIstatCode(\n                provIstatCode\n              );\n              setSelectedFeature({\n                ...selectedFeature,\n                province: {\n                  ...selectedFeature.province,\n                  name: properties.prov_name,\n                  feature: municipalitiesForIstatCode,\n                },\n                municipality: {\n                  ...selectedFeature.municipality,\n                  name: null,\n                  feature: null,\n                },\n              });\n              setCurrentGeoJSON(municipalitiesForIstatCode);\n              setFeatureIndex(3);\n              break;\n            case !!properties.reg_istat_code:\n            default:\n              const regionIstatCode = properties.reg_istat_code;\n              const provincesForIstatCode = getProvincesFromRegionIstatCode(\n                regionIstatCode\n              );\n              setCurrentGeoJSON(provincesForIstatCode);\n              setSelectedFeature({\n                ...selectedFeature,\n                region: {\n                  ...selectedFeature.region,\n                  name: properties.reg_name,\n                  feature: provincesForIstatCode,\n                },\n                province: {\n                  ...selectedFeature.province,\n                  name: null,\n                  feature: null,\n                },\n                municipality: {\n                  ...selectedFeature.municipality,\n                  name: null,\n                  feature: null,\n                },\n              });\n              setFeatureIndex(2);\n              break;\n          }\n        },\n      }}\n      pathOptions={{ color: \"red\" }}\n      key={currentGeoJSON && JSON.stringify(currentGeoJSON).substring(0, 100)}\n      data={currentGeoJSON}\n    />\n  );\n};\n\nexport default Italy;\n","/Users/gabriele/personalProjects/estratti_OSM_Italia/webapp/src/App.js",["32"],"/Users/gabriele/personalProjects/estratti_OSM_Italia/webapp/src/components/SideMenu/style.js",["33"],"/Users/gabriele/personalProjects/estratti_OSM_Italia/webapp/src/components/SideMenu/SideMenu.js",[],"/Users/gabriele/personalProjects/estratti_OSM_Italia/webapp/src/components/Breadcrumb.js",[],"/Users/gabriele/personalProjects/estratti_OSM_Italia/webapp/src/components/SideMenu/filter.js",[],{"ruleId":"34","severity":1,"message":"35","line":21,"column":6,"nodeType":"36","endLine":21,"endColumn":42,"suggestions":"37"},{"ruleId":"38","severity":1,"message":"39","line":46,"column":10,"nodeType":"40","messageId":"41","endLine":46,"endColumn":18},{"ruleId":"42","severity":1,"message":"43","line":1,"column":1,"nodeType":"44","endLine":77,"endColumn":3},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'map'. Either include it or remove the dependency array. Mutable values like 'geoJSONref.current' aren't valid dependencies because mutating them doesn't re-render the component.","ArrayExpression",["45"],"no-unused-vars","'selected' is assigned a value but never used.","Identifier","unusedVar","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration",{"desc":"46","fix":"47"},"Update the dependencies array to be: [currentGeoJSON, map]",{"range":"48","text":"49"},[458,494],"[currentGeoJSON, map]"]